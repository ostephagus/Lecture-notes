\documentclass[../Main.tex]{subfiles}

\begin{document}
\section{Sequences}
\subsection{Defining Limits}
\begin{definition}{Limit of a sequence}
    Consider a sequence of real numbers, $a_1, a_2, a_3, \cdots$ or $(a_n)_{n=1}^\infty$ and $a_n \in \R$.\par
    We say that the sequence \underline{tends to the limit a} as $n$ tends to infinity if, given $\epsilon > 0$ there exists a natural number $N$ such that
    \begin{equation}
        |a_n - a| < \epsilon~\forall n \geq N
        \label{eqnSequenceConvergence}
    \end{equation}
\end{definition}
\begin{remarks}
    \item $N$ depends on $\epsilon$
    \item The inequality can be non-strict without changing the definition
    \item Any fixed multiple of $\epsilon$ on the RHS does not change the definition (replace $\epsilon$ with a multiple to return to 1 on RHS)
    \item Here $a$ must be finite and real.
\end{remarks}
\subsection{Monotonic Sequences}
If $a_n \leq a_{n+1}~\forall n$, we say $(a_n)$ is increasing.\par
If $a_n \geq a_{n+1}~\forall n$, we say $(a_n)$ is decreasing.\par
Sequences can be strictly increasing or strictly decreasing if the inequalities above are strict.\par
If $(a_n)$ is either increasing or decreasing then it is \underline{monotone}.\par
\begin{proposition}[Fundamental axiom of real numbers]
    An increasing sequence of real numbers that is bounded above converges.
\end{proposition}
\begin{remarks}
    \item Equivalently, every decreasing sequence bounded below converges.
    \item Note that this is equivalent to the least upper bound axiom from IA Numbers and Sets.
    \item This is not true for the rational numbers. Consider the sequence of rational approximations to $\sqrt{2}$. This does not have a limit in the rational numbers.
\end{remarks}
\subsection{Facts About Sequences}
\begin{propositions}{
        \label{propsSequenceFacts}
    }
    \item If $a_n \rightarrow a$ and $a_n \rightarrow b$, then $a = b$. \label{propLimitUnique}
    \item If $a_n \rightarrow a$ and $n_1 < n_2 < n_3 < \cdots$ is a sequence of natural numbers, then $a_{n_j} \rightarrow a$ as $j \rightarrow \infty$. \label{propSubsequenceLimit}
    \item If $a_n = c~\forall n$, then $a_n \rightarrow c$.\label{propConstantLimit}
    \item If $a_n \rightarrow a$ and $b_n \rightarrow b$, $a_n + b_n \rightarrow a + b$.\label{propSumOfSequences}
    \item If $a_n \rightarrow a$ and $b_n \rightarrow b$, then $a_n b_n \rightarrow ab$.\label{propProductOfSequences}
    \item If $a_n \rightarrow a$, $a_n \neq 0, a \neq 0$, then $\frac{1}{a_n} \rightarrow \frac{1}{a}$ \label{propReciprocalSequence}
    \item If $a_n$ is bounded above by $A$, and $a_n \rightarrow a$, then $a \leq A$.\label{propBoundedLimit}
    \item If $a_n \rightarrow a$ and $c_n \rightarrow a$ as $n \rightarrow \infty$, and we have $b_n$ such that $a_n \leq b_n \leq c_n$, then $b_n \rightarrow a$. \label{propSequenceSandwich}
\end{propositions}
\begin{proof}
    \begin{enumerate}
        \item Limit is unique:
            For any $\epsilon > 0$, we can find $N_1(\epsilon)$ and $N_2(\epsilon)$ such that:
            \begin{equation*}
                n \geq N_1 \implies |a_n - a| < \epsilon
            \end{equation*}
            and
            \begin{equation*}
                n \geq N_2 \implies |a_n - b| < \epsilon
            \end{equation*}
            If $n \geq \max{\{N_1, N_2\}}$, then:
            \begin{align*}
                0 \leq |b - a| &= |b - a_n + a_n - a| \\
                &\leq |a_n - b| + |a_n - a| \text{ by triangle inequality} \\
                &\leq 2\epsilon
            \end{align*}
            And since $\epsilon$ was arbitrary, $|b - a| = 0$ and $a = b$. \proofend
        \item Subsequences converge to the same limit:
        Since $n_j < n_{j + 1}$, we must have that $n_{j + 1} \geq n_j + 1$, so by induction we must have that $n_j \geq j$.\par
        Then since $a_n \rightarrow a$, given $\epsilon > 0$ there exists $N(\epsilon)$ such that:
        \begin{equation*}
            n \geq N \implies |a_n - a| < \epsilon
        \end{equation*}
        So if $j \geq N(\epsilon)$ then $n_j \geq N(\epsilon)$ and therefore $|a_{n_j} - a| < \epsilon$. \proofend
        \setcounter{enumi}{4} % Next number is 5
        \item Product of sequences tends to product of limit:
        Since $a_n \rightarrow a$ and $b_n \rightarrow b$, for any $\epsilon > 0$, we can find $N_1(\epsilon)$ and $N_2(\epsilon)$ such that:
            \begin{equation*}
                n \geq N_1 \implies |a_n - a| < \epsilon
            \end{equation*}
            and
            \begin{equation*}
                n \geq N_2 \implies |b_n - b| < \epsilon
            \end{equation*}
            Then:
            \begin{align*}
                |a_n b_n - ab| &= |a_n b_n - a_n b + a_n b - ab| \\
                &\leq |a_n b_n - a_n b| + |a_n b - ab| \\
                &\leq |a_n| |b_n - b| + |b| |a_n - a|
            \end{align*}
            We are nearly there, but note that $a_n$ is not fixed. However, if, for example, $n \geq N_1(1)$, then $|a_n - a| < 1$, so $|a_n| \leq 1 + |a|$, which is fixed.\par
            Therefore, if $n \geq \max{\{N_1(\epsilon), N_1(1), N_2(\epsilon)\}}$, then $|a_n b_n - ab| < (1 + |a| + |b|)\epsilon$, which is a constant multiple so $a_n b_n \rightarrow ab$.
    \end{enumerate}
\end{proof}
\begin{propositions}{
        \label{propSequenceLimits}
    }
    \item The sequence $a_n = \frac{1}{n}$ tends to 0 \label{propReciprocalLimit}
    \item For any $|x| < 1$, then $a_n = x^n$ tends to 0. \label{propPowersLimit}
\end{propositions}
\begin{proof}
    \begin{enumerate}
        \item $a_n = \frac{1}{n}$.\par
            First note that this is a decreasing sequence, bounded below by 0, and so it has a limit $l$ by the Fundamental Axiom.\par
            Consider the sequence $a_{2n} = \frac{1}{2} a_n$.\par
            By Proposition~\ref{propProductOfSequences}, this converges to $\frac{1}{2}l$.\par
            But by proposition~\ref{propSubsequenceLimit}, this subsequence must tend to $l$.\par
            These are equal by proposition~\ref{propLimitUnique}, so $l = \frac{l}{2}$, and $l = 0$.
        \item $a_n = x^n$, $|x| < 1$.\par
            Suppose that $x$ is non-negative. Then we have that the sequence $x^n$ is decreasing and bounded below by 0, and so converges to $l$.\par
            Now $x^{n+1} = x \times x^n$, and so $a_{n+1}$ converges to $x l$.\par
            But this is a subsequence, and must converge to $l$.\par
            Now $xl = l$, and $l$ must be 0 since $x \neq 1$.\par
            Now consider any $x$ in range. $-|x|^n \leq x^n \leq |x|^n$. By above, $|x|^n$ tends to 0 and so does its negative.\par
            Therefore by proposition~\ref{propSequenceSandwich}, $x^n \rightarrow 0$.
    \end{enumerate}
\end{proof}
\begin{remark}
    When we say a sequence converges, we mean that it converges to a finite limit. There does exist a notion of \textit{tending to infinity} - based on sequence gets larger than, and stays larger than, any number we choose as long as we go far enough along the sequence.
\end{remark}
\begin{definition}{Convergence to infinity}
    Given a sequence $a_n$ and a real number $M$, then if there exists some natural number $N(M)$ such that:
    \begin{equation*}
        a_n > M~\forall n \geq N
    \end{equation*}
    Then $a_n$ tends to infinity.
\end{definition}
\begin{warning}
    Not all of the results about finite limits carry over.
\end{warning}
\begin{remark}
    The definition of convergence to a limit still works for complex numbers. We can intuit this as ensuring that all $a_n$ are within a small disk (radius $\epsilon$) of the limit, for all $n \geq N(\epsilon)$.\par
    Propositions \ref{propLimitUnique} to \ref{propReciprocalSequence} still hold, but due to difficulties with ordering for complex numbers propositions \ref{propBoundedLimit} and \ref{propSequenceSandwich}, and the fundamental axiom do not hold. We have do do extra work to get similar results.
\end{remark}
\begin{lemma}
    If $(z_n)$ is a complex sequence than $z_n \rightarrow z$ if and only if both
    \begin{align*}
        \Re(z_n) &\rightarrow \Re(z) \\
        \Im(z_n) &\rightarrow \Im(z)
    \end{align*}
    \label{lemComplexConvergence}
\end{lemma}
\begin{proof}
    Note that for any complex number $w$:
    \begin{equation}
        \max{\{|\Re(w)|, |\Im(w)|\}} \leq |w| \leq |\Re(w)| + |\Im(w)|
        \label{eqnComplexInequalities}
    \end{equation}
    \begin{proofdirection}{$\Rightarrow$}{Suppose $z_n \rightarrow z$.}
        Then $\forall \epsilon > 0, \exists N(\epsilon), n \geq N \implies |z_n - z| < \epsilon$. But then using inequality~\ref{eqnComplexInequalities}, this also implies:
        \begin{equation*}
            |\Re(z_n) - \Re(z)| < \epsilon \text{ and } |\Im(z_n) - \Im(z)| < \epsilon
        \end{equation*}
        As required.
    \end{proofdirection}
    \begin{proofdirection}{$\Leftarrow$}{Suppose $\Re(z_n) \rightarrow z$ and $\Im(z_n) \rightarrow \Im(z)$.}
        Then for all $\epsilon > 0~\exists N_1(\epsilon), N_2(\epsilon)$:
        \begin{align*}
            n \geq N_1 \implies |\Re(z_n) - \Re(z)| &< \epsilon \\
            n \geq N_2 \implies |\Im(z_n) - \Im(z)| &< \epsilon
        \end{align*}
        Let $N(\epsilon) = \max{\{N_1, N_2\}}$. Then summing the above equations:
        \begin{equation*}
            n \geq N \implies |\Re(z_n - z)| + |\Im(z_n - z)| < 2\epsilon
        \end{equation*}
        Which, by the right side of inequality~\ref{eqnComplexInequalities}, gives the result.
    \end{proofdirection}
\end{proof}
\subsection{Bolzano-Weierstrass Theorem}
\begin{theorem}[Bolzano-Weierstrass Theorem]
    If $x_n \in \R$ and there exists some $K$ such that $|x_n| \leq K~\forall n$, then there must exist a subsequence that converges. That is, for some sequence of increasing natural numbers $n_i$, $x_{n_i} \rightarrow x$.
    \label{thmBolzanoWeierstrass}
\end{theorem}
\begin{remark}
    The theorem does not assert that the sequence is unique. Consider $(-1)^n$. There are two convergent subsequences (that of even terms that converges to 1, that of odd terms that converges to -1).
\end{remark}
\begin{proof}
    First set $a_1 = -k, b_1 = k$ so that all terms of the sequence lie between $a_1$ and $b_1$.\par
    Then let $c$ be the midpoint of the interval: $c = \frac{a_1 + b_1}{2}$.\par
    Either there are infinitely many terms of $x_n$ between $a_1$ and $c$ (case 1), or there are infinitely many terms between $c$ and $b_1$ (case 2).
    Then if we are in case 1, set $a_2 = a_1, b_2 = c$. If we are not in case 1 then we have case 2 and so set $a_2 = c$, $b_2 = b_1$.\par
    We continue this process of halving the intervals, to get sequences $a_k$ and $b_k$. We have that, by the method of construction, we have:
    \begin{itemize}
        \item infinitely many terms of $x_n$ within $a_k$ and $b_k$
        \item the size of the interval halves each time
        \item $a_k$ is an increasing sequence, $b_k$ is a decreasing sequence.
    \end{itemize}
    Note that now $a_k$ is an increasing sequence bounded above by $b_1$, and $b_k$ is a decreasing sequence bounded below by $a_1$. Therefore let $a_k$ converge to some $a$ and $b_k$ converge to some $b$. But since $b_{k+1} a_{k + 1} = \frac{1}{2}(b_k - a_k)$, we require that $(b - a) = \frac{1}{2}(b - a)$, and so $a = b$.\par
    Recall that, at every stage, we have infinitely many terms of $x_n$ within each interval. Then construct the subsequence $x_{n_i}$ as follows:
    \begin{itemize}
        \item $n_1 = 1$
        \item Let $n_{i + 1}$ be the smallest integer greater than $n_i$ such that:
            \begin{equation*}
                x_{n_{i+1}} \in [a_{j + 1}, b_{j + 1}]
            \end{equation*}
            This is valid beacause there are infinitely many terms within these intervals.
    \end{itemize}
    Now by proposition~\ref{propSequenceSandwich}, this subsequence converges to $a$.
\end{proof}
\section{Cauchy Sequences}
A Caucy sequence is an alternate way to characterise sequences and convergence.
\begin{definition}{Cauchy sequence}
    A sequence $a_n$ of real numbers is called a \underline{Cauchy sequence} if, far enough along the sequence, terms get and stay close together. Precisely, this is:\par
    Given $\epsilon > 0$, there exists $N(\epsilon)$ such that for any natural number $m$ and $n$ greater than $N(\epsilon)$,
    \begin{equation*}
        |a_n - a_m| < \epsilon
    \end{equation*}
\end{definition}
We will then show that Cauchy sequences are equivalent to convergent sequences.
\begin{lemma}
    Every convergent sequence is a Cauchy sequence.
    \label{lemConvergeImpliesCauchy}
\end{lemma}
\begin{proof}
    Let $a_n \to a$ as $n \to \infty$. Then for any $\epsilon > 0$, we have $N(\epsilon)$ such that:
    \begin{equation*}
        n > N(\epsilon) \implies |a_n - a| < \epsilon
    \end{equation*}
    Then if $m$ and $n$ are greater than $N(\epsilon)$,
    \begin{align*}
        |a_n - a_m| &= |a_n - a + a_m - a| \\
        &\leq |a_n - a| + |a_m - a| < 2\epsilon
    \end{align*}
\end{proof}
More surprising and more useful is the converse:
\begin{theorem}
    Every Cauchy sequence converges to a finite limit.
    \label{thmCauchyImpliesConverge}
\end{theorem}
\begin{proof}
    Suppose $a_n$ is a Cauchy sequence. We first show that $a_n$ is bounded (to use theorem~\ref{thmBolzanoWeierstrass}).\par
    Then using the property where $\epsilon = 1$:\par
    if $n, m > N(1)$, $|a_n - a_m| < 1$.\par
    Then we can bound the terms. Set $m = N(1)$:
    \begin{equation*}
        |a_n| \leq 1 + |a_{N(1)}|~\forall n \geq N(1)
    \end{equation*}
    Then set $K = 1 + \max{\{|a_1|, |a_2|, \cdots, |a_{N(1)}|\}}$, and so $|a_n| \leq K$ for any $n$.\par
    Now by theorem~\ref{thmBolzanoWeierstrass}, there must be a convergent subsequence:\par
    There exists a real number $a$ and natural numbers $n_1 < n_2 < \cdots$ such that $a_{n_j} \to a$.\par
    Now we can argue that $a_n \to a$, since all the terms are arbitrarily close to the convergent subsequence.\par
    \begin{align}
        |a_n - a| &= |a_n - a_{n_j} + a_{n_j} - a| \nonumber \\
        &\leq |a_n - a_{n_j}| + |a_{n_j} - a| \label{eqnSumOfModTerms}
    \end{align}
    Then fix $\epsilon > 0$, and since $a_n$ is cauchy there exists $N_1(\epsilon)$ such that $n, n_j \geq N_1(\epsilon)$, $|a_n - a_{n_j}$.\par
    Also, since $a_{n_j} \to a$, there exists $N_2(\epsilon)$ such that if $j \geq N_2$ then $|a_{n_j} - a| < \epsilon$.\par
    Then choose $j$ such that $j \geq N_2(\epsilon)$ and $n_j \geq N_1(\epsilon)$. Now we have the two properties above we can say that, from equation~\ref{eqnSumOfModTerms},
    \begin{equation*}
        |a_n - a| < 2 \epsilon
    \end{equation*}
    and so $a_n \to a$.
\end{proof}
The combination of lemma~\ref{lemConvergeImpliesCauchy} and theorem~\ref{thmCauchyImpliesConverge} is known as the \\ \underline{General Principle of Convergence}: a real sequence converges if and only if it is a Cauchy sequence.
\begin{corollary}
    A complex sequence converges if and only if it is a Cauchy sequence.
    \label{corComplexCauchyConvergence}
\end{corollary}
\begin{proof}
    We can use equation~\ref{eqnComplexInequalities} to consider the two real sequences formed by the real part and the imaginary part. Then we see that the General Principle of Convergence holds for complex sequences by using the same method of proof as above, along with lemma~\ref{lemComplexConvergence}
\end{proof}
\section{Series}
\begin{definition}{Convergence of a series}
    Suppose $a_j$ is a sequence of real numbers. The series:
    \begin{equation*}
        \sum_{j=1}^{\infty} a_j
    \end{equation*}
    converges to a limit $S$ if the sequence of partial sums:
    \begin{equation*}
        S_N = \sum_{j=1}^{N} a_j
    \end{equation*}
    converges to $S$.\par
    In this case, write $\sum_{j=1}^\infty a_j = S$.
\end{definition}
Note that this definition also works if the numbers are all complex.
\begin{remark}
    Any problem about series can be rephrased to a problem about sequences, and and problem about sequences can be rephrased in in terms of series.
\end{remark}
\begin{propositions}{
        \label{eqnSeriesProperties}
    }
    \item If $\sum_{j=1}^\infty a_j$ and $\sum_{j=1}^\infty b_j$ converge, then any linear combination does. \label{propSeriesLinearCombo}
    \item Suppose there exists some $N$ such that $a_j = b_j, j \geq N$.
        Then $\sum_{j=1}^\infty a_j$ and $\sum_{j=1}^\infty b_j$ either both diverge or both converge. \label{propSameTailSeries}
\end{propositions}
\begin{proof}[of proposition \ref{propSameTailSeries}]
    Suppose $n \geq N$. Then:
    \begin{equation*}
        S_n = \sum_{j=1}^n a_j = \sum_{j=1}^{N-1}a_j + \sum_{j=N}^{n} a_j
    \end{equation*}
    and also
    \begin{align*}
        S_n &= \sum_{j=1}^n b_j = \sum_{j=1}^{N-1}b_j + \sum_{j=N}^{n} b_j \\
        &= S_n + \left(\sum_{j=1}^{N-1} b_j - \sum{j=1}^{N-1} a_j\right) \\
        &= S_n + k
    \end{align*}
    Where $k$ does not depend on $n$.
\end{proof}
An important example is the geometric series:
\begin{definition}{Geometric series}
    Suppose $x$ is a real number, and take $a_n = x^{n-1}$.\par
    Then the \underline{geometric series} has partial sum:
    \begin{equation*}
        S_n = \sum_{j=1}^n a_j = 1 + x + x^2 + \cdots + x^{n-1}
    \end{equation*}
    and we have a closed form:
    \begin{equation*}
        S_n =
        \begin{cases}
            \frac{1 - x^n}{1 - x} & x \neq 1 \\
            n & x = 1
        \end{cases}
    \end{equation*}
\end{definition}
Now if, for a geometric series, $|x| < 1$, proposition \ref{propPowersLimit} shows that $x^n \to 0$ so $S_n \to \frac{1}{1-x}$.\par
Also, if $x > 1$ then $x^n = (1 + \delta)^n \geq 1 + n\delta$ by the binomial theorem, which diverges and so $S_n$ diverges.\par
In the case $x < -1$, whih is the same as the $x > 1$ case but with alternating sign.\par
When $x = 1$, the sequence of partial sums is the sequence of natural numbers, which diverges. If $x = -1$, the series alternates between $1$ and $0$ and so diverges.
\end{document}